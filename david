import random

def creer_foret(n):
    return [0] * n

def afficher(annee, foret, titre=None):
    if titre:
        print(titre)
    print(f"Année {annee} :", foret)

def simulateur_simple(n, annees, p=0.7):
    foret = creer_foret(n)
    afficher(0, foret, "=== Simulateur simple ===")
    for annee in range(1, annees + 1):
        foret = [h + (1 if random.random() < p else 0) for h in foret]
        afficher(annee, foret)
    return foret

def est_au_soleil(foret, i):
    return all(h <= foret[i] for h in foret[:i])

def simulateur_soleil(n, annees, p_s=0.8, p_o=0.4):
    foret = creer_foret(n)
    afficher(0, foret, "=== Simulateur soleil/ombre ===")
    for annee in range(1, annees + 1):
        for i in range(n):
            p = p_s if est_au_soleil(foret, i) else p_o
            if random.random() < p:
                foret[i] += 1
        afficher(annee, foret)
    return foret

def menu():
    print("=== Simulation forêt ===")
    print("1. Simple")
    print("2. Soleil / Ombre")

    choix = input("Choix : ").strip()
    n = int(input("Nombre d'arbres : "))
    annees = int(input("Nombre d'années : "))

    if choix == "1":
        simulateur_simple(n, annees)
    elif choix == "2":
        modif = input("Changer p_soleil/p_ombre ? (o/n) : ").lower()
        if modif == "o":
            p_s = float(input("p soleil : "))
            p_o = float(input("p ombre : "))
            simulateur_soleil(n, annees, p_s, p_o)
        else:
            simulateur_soleil(n, annees)
    else:
        print("Choix invalide.")

# Appel direct du menu
menu()



****************************************

import random

# Crée une forêt contenant n arbres initialisés à 0
def creer_foret(n):
    return [0] * n

# Affiche l'état de la forêt pour une année donnée
def afficher(annee, foret, titre=None):
    if titre:
        print(titre)
    print(f"Année {annee} :", foret)

# Simulateur simple : chaque arbre a une probabilité p de grandir chaque année
def simulateur_simple(n, annees, p=0.7):
    foret = creer_foret(n)          # forêt initiale
    afficher(0, foret, "=== Simulateur simple ===")
    
    for annee in range(1, annees + 1):
        # Chaque arbre grandit de 1 avec probabilité p
        foret = [h + (1 if random.random() < p else 0) for h in foret]
        afficher(annee, foret)
    
    return foret

# Détermine si un arbre est au soleil (aucun arbre plus grand à sa gauche)
def est_au_soleil(foret, i):
    return all(h <= foret[i] for h in foret[:i])

# Simulateur avec soleil/ombre : probabilité différente selon l'exposition
def simulateur_soleil(n, annees, p_s=0.8, p_o=0.4):
    foret = creer_foret(n)
    afficher(0, foret, "=== Simulateur soleil/ombre ===")
    
    for annee in range(1, annees + 1):
        for i in range(n):
            # Choix de la probabilité selon l'exposition
            p = p_s if est_au_soleil(foret, i) else p_o
            
            # L'arbre grandit selon la probabilité choisie
            if random.random() < p:
                foret[i] += 1
        
        afficher(annee, foret)
    
    return foret

# Menu principal permettant de choisir le simulateur
def menu():
    print("=== Simulation forêt ===")
    print("1. Simple")
    print("2. Soleil / Ombre")

    choix = input("Choix : ").strip()          # choix du mode
    n = int(input("Nombre d'arbres : "))       # nombre d'arbres
    annees = int(input("Nombre d'années : "))  # durée de la simulation

    if choix == "1":
        simulateur_simple(n, annees)
    
    elif choix == "2":
        # Option pour modifier les probabilités
        modif = input("Changer p_soleil/p_ombre ? (o/n) : ").lower()
        
        if modif == "o":
            p_s = float(input("p soleil : "))
            p_o = float(input("p ombre : "))
            simulateur_soleil(n, annees, p_s, p_o)
        else:
            simulateur_soleil(n, annees)
    
    else:
        print("Choix invalide.")

# Lancement automatique du menu
menu()

*************************************************

import random

# Crée une forêt contenant nb_arbres arbres initialisés à 0
def creer_foret(nb_arbres):
    return [0] * nb_arbres

# Affiche l'état de la forêt pour une année donnée
def afficher_foret(annee, foret, titre=None):
    if titre:
        print(titre)
    print(f"Année {annee} :", foret)

# Simulateur simple : chaque arbre a une probabilité proba_croissance de grandir
def simulateur_croissance_simple(nb_arbres, nb_annees, proba_croissance=0.7):
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, " Simulateur simple ")
    
    for annee in range(1, nb_annees + 1):
        # Chaque arbre grandit de 1 avec une certaine probabilité
        foret = [
            hauteur + (1 if random.random() < proba_croissance else 0)
            for hauteur in foret
        ]
        afficher_foret(annee, foret)
    
    return foret

# Vérifie si un arbre reçoit du soleil (aucun arbre plus grand à sa gauche)
def arbre_au_soleil(foret, index_arbre):
    hauteur = foret[index_arbre]
    return all(h <= hauteur for h in foret[:index_arbre])

# Simulateur avec soleil/ombre : probabilité différente selon l'exposition
def simulateur_croissance_soleil(nb_arbres, nb_annees, proba_soleil=0.8, proba_ombre=0.4):
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, " Simulateur soleil/ombre ")
    
    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            # Choix de la probabilité selon l'exposition
            proba = proba_soleil if arbre_au_soleil(foret, i) else proba_ombre
            
            # L'arbre grandit selon la probabilité choisie
            if random.random() < proba:
                foret[i] += 1
        
        afficher_foret(annee, foret)
    
    return foret

# Menu principal permettant de choisir le simulateur
def menu():
    print(" Simulation de croissance de forêt ")
    print("1. Croissance simple")
    print("2. Croissance avec soleil / ombre")

    choix = input("Votre choix : ").strip()
    nb_arbres = int(input("Nombre d'arbres : "))
    nb_annees = int(input("Nombre d'années : "))

    if choix == "1":
        simulateur_croissance_simple(nb_arbres, nb_annees)
    
    elif choix == "2":
        modifier = input("Changer les probabilités ? (o/n) : ").lower()
        
        if modifier == "o":
            proba_soleil = float(input("Probabilité au soleil : "))
            proba_ombre = float(input("Probabilité à l'ombre : "))
            simulateur_croissance_soleil(nb_arbres, nb_annees, proba_soleil, proba_ombre)
        else:
            simulateur_croissance_soleil(nb_arbres, nb_annees)
    
    else:
        print("Choix invalide.")

# Lancement automatique du menu
menu()

------------------------------------------------------------------------------------------------------
import random

def affichage_arbres(tableau):
    """Affiche chaque arbre sous forme de barres verticales."""
    for hauteur in tableau:
        print("I" * hauteur)
    print()

# Crée une forêt contenant nb_arbres arbres initialisés à 0
def creer_foret(nb_arbres):
    return [0] * nb_arbres

# Affiche l'état de la forêt pour une année donnée
def afficher_foret(annee, foret, titre=None):
    if titre:
        print(titre)
    print(f"Année {annee} :", foret)

# Simulateur simple : chaque arbre a une probabilité proba_croissance de grandir
def simulateur_croissance_simple(nb_arbres, nb_annees, proba_croissance=0.7):
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, " Simulateur simple ")
    
    for annee in range(1, nb_annees + 1):
        # Chaque arbre grandit de 1 avec une certaine probabilité
        foret = [
            hauteur + (1 if random.random() < proba_croissance else 0)
            for hauteur in foret
        ]
        afficher_foret(annee, foret)
    
    return foret

# Vérifie si un arbre reçoit du soleil (aucun arbre plus grand à sa gauche)
def arbre_au_soleil(foret, index_arbre):
    hauteur = foret[index_arbre]
    return all(h <= hauteur for h in foret[:index_arbre])

# Simulateur avec soleil/ombre : probabilité différente selon l'exposition
def simulateur_croissance_soleil(nb_arbres, nb_annees, proba_soleil=0.8, proba_ombre=0.4):
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, " Simulateur soleil/ombre ")
    
    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            # Choix de la probabilité selon l'exposition
            proba = proba_soleil if arbre_au_soleil(foret, i) else proba_ombre
            
            # L'arbre grandit selon la probabilité choisie
            if random.random() < proba:
                foret[i] += 1
        
        afficher_foret(annee, foret)
    
    return foret

# Menu principal permettant de choisir le simulateur
def menu():
    print(" Simulation de croissance de forêt ")
    print("1. Croissance simple")
    print("2. Croissance avec soleil / ombre")

    choix = input("Quel est votre choix 1 ou 2: ").strip()
    nb_arbres = int(input("Nombre d'arbres : "))
    nb_annees = int(input("Nombre d'années : "))

    if choix == "1":
        simulateur_croissance_simple(nb_arbres, nb_annees)
    
    elif choix == "2":
        modifier = input("Changer les probabilités ? (o/n) : ").lower()
        
        if modifier == "o":
            proba_soleil = float(input("Probabilité au soleil : "))
            proba_ombre = float(input("Probabilité à l'ombre : "))
            simulateur_croissance_soleil(nb_arbres, nb_annees, proba_soleil, proba_ombre)
        else:
            simulateur_croissance_soleil(nb_arbres, nb_annees)
    
    else:
        print("Choix invalide.")

# Lancement automatique du menu
menu()
======================================================================


# Vérifie si un arbre est à l'ombre à cause des voisins à distance 1 ou 2
def arbre_ombre_distance2(foret, index_arbre):
    hauteur = foret[index_arbre]
    # On regarde les arbres à gauche à distance 1 et 2
    for d in [1, 2]:
        if index_arbre - d >= 0:
            if foret[index_arbre - d] > hauteur:
                return True
    return False

def simulateur_distance2(nb_arbres, nb_annees, proba_soleil=0.8, proba_ombre=0.3):
    """
    Simulateur où un arbre peut être mis à l'ombre par un voisin
    situé à distance 1 ou 2 à gauche
    """
    foret = [0] * nb_arbres
    print("\n Simulateur distance 2 ")
    print("Année 0 :", foret)

    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            if arbre_ombre_distance2(foret, i):
                proba = proba_ombre
            else:
                proba = proba_soleil

            if random.random() < proba:
                foret[i] += 1

        print(f"Année {annee} :", foret)

    return foret


# Vérifie l'exposition d'un arbre en regardant gauche et droite
def exposition_bilaterale(foret, index_arbre):
    hauteur = foret[index_arbre]
    gauche = any(foret[i] > hauteur for i in range(0, index_arbre))
    droite = any(foret[i] > hauteur for i in range(index_arbre + 1, len(foret)))

    if not gauche and not droite:
        return "soleil"
    elif gauche and droite:
        return "ombre"
    else:
        return "demi"

def simulateur_bilaterale(nb_arbres, nb_annees,
                          proba_soleil=0.9,
                          proba_demi=0.6,
                          proba_ombre=0.3):
    """
    Simulateur où l'on regarde les voisins à gauche ET à droite.
    Soleil = aucun voisin plus grand
    Demi-ombre = un seul côté bloque
    Ombre = les deux côtés bloquent
    """
    foret = [0] * nb_arbres
    print("\nSimulateur bilatéral")
    print("Année 0 :", foret)

    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            expo = exposition_bilaterale(foret, i)

            if expo == "soleil":
                proba = proba_soleil
            elif expo == "demi":
                proba = proba_demi
            else:
                proba = proba_ombre

            if random.random() < proba:
                foret[i] += 1

        print(f"Année {annee} :", foret)

    return foret



==================================================================
==================================================================
==================================================================
==================================================================
==================================================================

import random

def affichage_arbres(foret):
    """Affiche chaque arbre sous forme de barres verticales."""
    for hauteur in foret:
        print("=" * hauteur)
    print()


def afficher_foret(annee, foret, titre=None):
    """Affiche l'état de la forêt pour une année donnée."""
    if titre:
        print(titre)
    print(f"Année {annee} :", foret)
    affichage_arbres(foret)

def creer_foret(nb_arbres):
    """Crée une forêt de nb_arbres arbres initialisés à 0."""
    return [0] * nb_arbres

def simulateur_croissance_simple(nb_arbres, nb_annees, proba=0.7):
    """
    Chaque arbre a une probabilité fixe de 0.7 de grandir chaque année.
    """
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, "Simulateur simple")

    for annee in range(1, nb_annees + 1):
        foret = [
            h + 1 if random.random() < proba else h
            for h in foret
        ]
        afficher_foret(annee, foret)

    return foret


def arbre_au_soleil(foret, index):
    """
    Un arbre est au soleil s'il n'existe aucun arbre STRICTEMENT plus grand à sa gauche.
    """
    hauteur = foret[index]
    return all(h <= hauteur for h in foret[:index])


def simulateur_croissance_soleil(nb_arbres, nb_annees,
                                 proba_soleil=0.8,
                                 proba_ombre=0.4):
    """
    Les arbres au soleil ont plus de chances de grandir que ceux à l'ombre.
    """
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, "Simulateur soleil / ombre")

    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            proba = proba_soleil if arbre_au_soleil(foret, i) else proba_ombre
            if random.random() < proba:
                foret[i] += 1
        afficher_foret(annee, foret)

    return foret

def arbre_ombre_distance2(foret, index):
    """
    Un arbre est à l'ombre si un arbre STRICTEMENT plus grand
    se trouve à distance 1 ou 2 à gauche.
    """
    hauteur = foret[index]
    for d in (1, 2):
        if index - d >= 0 and foret[index - d] > hauteur:
            return True
    return False


def simulateur_distance2(nb_arbres, nb_annees,
                         proba_soleil=0.8,
                         proba_ombre=0.3):
    """
    Variante où les arbres à distance 2 peuvent créer de l'ombre.
    """
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, "Simulateur distance 2")

    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            proba = proba_ombre if arbre_ombre_distance2(foret, i) else proba_soleil
            if random.random() < proba:
                foret[i] += 1
        afficher_foret(annee, foret)

    return foret


def exposition_bilaterale(foret, index):
    """
    Soleil : aucun arbre plus grand à gauche ou à droite
    Demi-ombre : un seul côté bloque
    Ombre : les deux côtés bloquent
    """
    hauteur = foret[index]
    gauche = any(foret[i] > hauteur for i in range(index))
    droite = any(foret[i] > hauteur for i in range(index + 1, len(foret)))

    if not gauche and not droite:
        return "soleil"
    elif gauche and droite:
        return "ombre"
    else:
        return "demi"


def simulateur_bilateral(nb_arbres, nb_annees,
                          proba_soleil=0.9,
                          proba_demi=0.6,
                          proba_ombre=0.3):
    """
    Variante bilatérale avec trois niveaux d'ensoleillement.
    """
    foret = creer_foret(nb_arbres)
    afficher_foret(0, foret, "Simulateur bilatéral")

    for annee in range(1, nb_annees + 1):
        for i in range(nb_arbres):
            expo = exposition_bilaterale(foret, i)

            if expo == "soleil":
                proba = proba_soleil
            elif expo == "demi":
                proba = proba_demi
            else:
                proba = proba_ombre

            if random.random() < proba:
                foret[i] += 1

        afficher_foret(annee, foret)

    return foret

def menu():
    print("Simulation de croissance de forêt")
    print("1 - Croissance simple")
    print("2 - Soleil / ombre (gauche)")
    print("3 - Ombre à distance 2")
    print("4 - Ensoleillement bilatéral")

    choix = input("Quel est votre choix 1, 2, 3 ou 4: ").strip()
    nb_arbres = int(input("Nombre d'arbres : "))
    nb_annees = int(input("Nombre d'années : "))

    if choix == "1":
        simulateur_croissance_simple(nb_arbres, nb_annees)
    elif choix == "2":
        simulateur_croissance_soleil(nb_arbres, nb_annees)
    elif choix == "3":
        simulateur_distance2(nb_arbres, nb_annees)
    elif choix == "4":
        simulateur_bilateral(nb_arbres, nb_annees)
    else:
        print("Choix invalide.")


menu()
